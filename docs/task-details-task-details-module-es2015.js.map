{"version":3,"sources":["./src/app/components/task-share/task-form/task-form.component.html","./src/app/pages/task-details/task-details.page.html","./src/app/components/task-share/task-form/task-form.component.scss","./src/app/components/task-share/task-form/task-form.component.ts","./src/app/components/task-share/task-share.module.ts","./src/app/pages/task-details/task-details-routing.module.ts","./src/app/pages/task-details/task-details.module.ts","./src/app/pages/task-details/task-details.page.scss","./src/app/pages/task-details/task-details.page.ts"],"names":[],"mappings":"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","file":"task-details-task-details-module-es2015.js","sourcesContent":["export default \"<form [formGroup]=\\\"taskForm\\\">\\n  <!-- TODO: angular Material DatePicker -->\\n  <ion-item lines=\\\"full\\\">\\n    <ion-label position=\\\"floating\\\">國曆</ion-label>\\n    <ion-datetime formControlName=\\\"solarCalendar\\\"></ion-datetime>\\n  </ion-item>\\n\\n  <!-- TODO: angular Material DatePicker -->\\n  <ion-item lines=\\\"full\\\">\\n    <ion-label position=\\\"floating\\\">農曆</ion-label>\\n    <ion-datetime formControlName=\\\"lunarCalendar\\\"></ion-datetime>\\n  </ion-item>\\n\\n  <ion-item lines=\\\"full\\\">\\n    <ion-label position=\\\"floating\\\">案名</ion-label>\\n    <ion-input formControlName=\\\"caseName\\\" type=\\\"text\\\"></ion-input>\\n  </ion-item>\\n\\n  <ion-item lines=\\\"full\\\">\\n    <ion-label position=\\\"floating\\\">廳堂</ion-label>\\n    <ion-input formControlName=\\\"hall\\\" type=\\\"text\\\"></ion-input>\\n  </ion-item>\\n\\n  <ion-item lines=\\\"full\\\">\\n    <ion-label position=\\\"floating\\\">到廳堂時間</ion-label>\\n    <ion-datetime formControlName=\\\"arriveHallTime\\\" displayFormat=\\\"h:mm a\\\"></ion-datetime>\\n  </ion-item>\\n\\n  <ion-item lines=\\\"full\\\">\\n    <ion-label position=\\\"floating\\\">領屍時間</ion-label>\\n    <ion-datetime formControlName=\\\"receiveBodyTime\\\" displayFormat=\\\"h:mm a\\\"></ion-datetime>\\n  </ion-item>\\n\\n  <ion-item lines=\\\"full\\\">\\n    <ion-label position=\\\"floating\\\">入殮時間</ion-label>\\n    <ion-datetime formControlName=\\\"casketingTime\\\" displayFormat=\\\"h:mm a\\\"></ion-datetime>\\n  </ion-item>\\n\\n  <ion-item lines=\\\"full\\\">\\n    <ion-label position=\\\"floating\\\">動遷棺時間</ion-label>\\n    <ion-datetime formControlName=\\\"moveCoffinTime\\\" displayFormat=\\\"h:mm a\\\"></ion-datetime>\\n  </ion-item>\\n\\n  <ion-item lines=\\\"full\\\">\\n    <ion-label position=\\\"floating\\\">家祭時間</ion-label>\\n    <ion-datetime formControlName=\\\"worshipTime\\\" displayFormat=\\\"h:mm a\\\"></ion-datetime>\\n  </ion-item>\\n\\n  <ion-list lines=\\\"full\\\" formGroupName=\\\"jobContent\\\">\\n    <ion-list-header>\\n      <ion-label>工作內容</ion-label>\\n    </ion-list-header>\\n    <ion-item>\\n      <ion-label>出殯</ion-label>\\n      <ion-checkbox formControlName=\\\"funeral\\\" slot=\\\"start\\\"></ion-checkbox>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">人數</ion-label>\\n      <ion-input formControlName=\\\"funeralWorkerCount\\\" type=\\\"number\\\"></ion-input>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label>出入現</ion-label>\\n      <ion-checkbox formControlName=\\\"inOut\\\" slot=\\\"start\\\"></ion-checkbox>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">人數</ion-label>\\n      <ion-input formControlName=\\\"inOutWorkerCount\\\" type=\\\"number\\\"></ion-input>\\n    </ion-item>\\n  </ion-list>\\n\\n  <ion-list lines=\\\"full\\\">\\n    <ion-list-header>\\n      <ion-label>工作人員</ion-label>\\n    </ion-list-header>\\n    <ion-item lines=\\\"full\\\" formArrayName=\\\"staffs\\\">\\n      <div *ngFor=\\\"let staff of staffs.controls; let index=index\\\">\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\">人員 {{ index + 1 }}</ion-label>\\n          <ion-input [formControlName]=\\\"index\\\" type=\\\"text\\\"></ion-input>\\n          <ion-button slot=\\\"end\\\" size=\\\"small\\\" color=\\\"danger\\\" (click)=\\\"removeStaff(index)\\\">\\n            <ion-icon name=\\\"trash-outline\\\"></ion-icon>\\n          </ion-button>\\n        </ion-item>\\n      </div>\\n    </ion-item>\\n    <ion-button size=\\\"small\\\" color=\\\"primary\\\" (click)=\\\"addStaff()\\\">\\n      <ion-icon name=\\\"add-outline\\\"></ion-icon>新增人員\\n    </ion-button>\\n  </ion-list>\\n\\n\\n  <ion-item lines=\\\"full\\\">\\n    <ion-label position=\\\"floating\\\">地點</ion-label>\\n    <ion-input formControlName=\\\"location\\\" type=\\\"text\\\"></ion-input>\\n  </ion-item>\\n\\n  <ion-item lines=\\\"full\\\">\\n    <ion-label position=\\\"floating\\\">事件</ion-label>\\n    <ion-input formControlName=\\\"event\\\" type=\\\"text\\\"></ion-input>\\n  </ion-item>\\n\\n  <ion-item lines=\\\"full\\\">\\n    <ion-label position=\\\"floating\\\">備註</ion-label>\\n    <ion-input formControlName=\\\"remarks\\\" type=\\\"text\\\"></ion-input>\\n  </ion-item>\\n\\n  <ion-item lines=\\\"full\\\">\\n    <ion-label position=\\\"floating\\\">執案人</ion-label>\\n    <ion-input formControlName=\\\"leader\\\" type=\\\"text\\\"></ion-input>\\n  </ion-item>\\n\\n  <!-- TODO: add material slide toggle (metrial): 進行中/結案 -->\\n  <ion-radio-group lines=\\\"full\\\" formControlName=\\\"isCaseClosed\\\">\\n    <ion-list-header>\\n      <ion-label>狀態</ion-label>\\n    </ion-list-header>\\n    <ion-item>\\n      <ion-label>進行中</ion-label>\\n      <ion-radio slot=\\\"start\\\" value=\\\"onTheWay\\\"></ion-radio>\\n    </ion-item>\\n    <ion-item>\\n      <ion-label>已結案</ion-label>\\n      <ion-radio slot=\\\"start\\\" value=\\\"theEnd\\\"></ion-radio>\\n    </ion-item>\\n  </ion-radio-group>\\n\\n  <ion-footer *ngIf=\\\"!taskControls.id.value\\\">\\n    <ion-toolbar color=\\\"success\\\">\\n      <ion-button expand=\\\"full\\\" fill=\\\"clear\\\" color=\\\"light\\\" (click)=\\\"onAddTask(taskForm)\\\">\\n        <ion-icon name=\\\"checkmark\\\" slot=\\\"start\\\"></ion-icon>\\n        新增任務\\n      </ion-button>\\n    </ion-toolbar>\\n  </ion-footer>\\n\\n  <ion-footer *ngIf=\\\"taskControls.id.value\\\">\\n    <ion-row no-padding text-center>\\n      <ion-col size=\\\"6\\\">\\n        <ion-button expand=\\\"block\\\" fill=\\\"outline\\\" color=\\\"danger\\\" (click)=\\\"onDeleteTask(taskForm.value)\\\">\\n          <ion-icon name=\\\"trash\\\" slot=\\\"start\\\"></ion-icon>\\n          刪除\\n        </ion-button>\\n      </ion-col>\\n      <ion-col size=\\\"6\\\">\\n        <ion-button expand=\\\"block\\\" fill=\\\"solid\\\" color=\\\"success\\\" (click)=\\\"onUpdateTask(taskForm.value)\\\">\\n          <ion-icon name=\\\"save\\\" slot=\\\"start\\\"></ion-icon>\\n          存檔\\n        </ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-footer>\\n</form>\";","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button autoHide=\\\"false\\\"></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>任務資料</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <app-task-form (createTask)=\\\"onAddTask($event)\\\" [selectedTask]=\\\"task\\\" (updateTask)=\\\"onUpdateTask($event)\\\"\\r\\n    (deleteTask)=\\\"onDeleteTask($event)\\\"></app-task-form>\\r\\n\\r\\n</ion-content>\";","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbXBvbmVudHMvdGFzay1zaGFyZS90YXNrLWZvcm0vdGFzay1mb3JtLmNvbXBvbmVudC5zY3NzIn0= */\";","import { Task } from './../../../@core/data/domain/model';\nimport { Component, OnInit, Output, EventEmitter, Input, SimpleChanges, OnChanges } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators, FormArray, FormControl } from '@angular/forms';\n\n@Component({\n  selector: 'app-task-form',\n  templateUrl: './task-form.component.html',\n  styleUrls: ['./task-form.component.scss'],\n})\nexport class TaskFormComponent implements OnInit, OnChanges {\n  @Input() selectedTask: Task;\n  @Output() createTask = new EventEmitter();\n  @Output() updateTask = new EventEmitter();\n  @Output() deleteTask = new EventEmitter();\n\n  taskForm: FormGroup;\n\n  get taskControls() {\n    return this.taskForm.controls;\n  }\n\n  get staffs() {\n    return this.taskForm.get('staffs') as FormArray;\n  }\n\n  constructor(private formBuilder: FormBuilder) {\n    this.initialForm();\n  }\n\n  ngOnInit() {\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.selectedTask.currentValue === null || changes.selectedTask.currentValue === undefined) {\n      this.initialForm();\n    }\n\n    if (changes.selectedTask.currentValue !== null && changes.selectedTask.currentValue !== undefined) {\n      this.updateForm(changes.selectedTask.currentValue);\n    }\n  }\n\n  addStaff() {\n    const staff = this.formBuilder.control('');\n    this.staffs.push(staff);\n  }\n\n  removeStaff(index: number) {\n    this.staffs.removeAt(index);\n  }\n\n  onAddTask(newTask: FormGroup) {\n    this.createTask.emit(newTask.value);\n  }\n\n  onUpdateTask(task: Task) {\n    this.updateTask.emit(task);\n  }\n\n  onDeleteTask(task: Task) {\n    this.deleteTask.emit(task);\n  }\n\n  private initialForm() {\n    this.taskForm = this.formBuilder.group({\n      id: [null],\n      solarCalendar: [null],\n      lunarCalendar: [null],\n      caseName: [''],\n      location: [''],\n      hall: [''],\n      event: [''],\n      jobContent: this.formBuilder.group({\n        funeral: [null],\n        funeralWorkerCount: [null, [Validators.min(0)]],\n        inOut: [null],\n        inOutWorkerCount: [null, [Validators.min(0)]],\n      }),\n      arriveHallTime: [null],\n      receiveBodyTime: [null],\n      casketingTime: [null],\n      moveCoffinTime: [null],\n      worshipTime: [null],\n      staffs: this.formBuilder.array([this.initSatffs()]),\n      remarks: [''],\n      leader: [''],\n      isCaseClosed: [null],\n    });\n\n  }\n\n  private initSatffs(): FormControl {\n    return this.formBuilder.control('');\n  }\n\n  private updateForm(changes: Task) {\n    if (changes === undefined || changes === null) {\n      return;\n    }\n    while (this.staffs.length !== 0) {\n      this.staffs.removeAt(0);\n    }\n\n    if (changes.staffs !== null && changes.staffs !== undefined) {\n      changes.staffs.forEach((staff) => {\n        return this.staffs.push(new FormControl(staff));\n      });\n    }\n\n    this.taskForm.patchValue({\n      id: (changes.id !== undefined) ? changes.id : null,\n      solarCalendar:\n        (changes.solarCalendar !== undefined) ? changes.solarCalendar : this.taskControls.solarCalendar.value,\n      lunarCalendar:\n        (changes.lunarCalendar !== undefined) ? changes.lunarCalendar : this.taskControls.lunarCalendar,\n      caseName:\n        (changes.caseName !== undefined) ? changes.caseName : this.taskControls.caseName.value,\n      location: (changes.location !== undefined) ? changes.location : this.taskControls.location.value,\n      hall: (changes.hall !== undefined) ? changes.hall : this.taskControls.hall.value,\n      event: (changes.event !== undefined) ? changes.event : this.taskControls.event.value,\n      jobContent: (changes.jobContent !== undefined) ? changes.jobContent : this.taskControls.jobContent.value,\n      arriveHallTime: (changes.arriveHallTime !== undefined) ? changes.arriveHallTime : this.taskControls.arriveHallTime.value,\n      receiveBodyTime: (changes.receiveBodyTime !== undefined) ? changes.receiveBodyTime : this.taskControls.receiveBodyTime.value,\n      casketingTime: (changes.casketingTime !== undefined) ? changes.casketingTime : this.taskControls.casketingTime.value,\n      moveCoffinTime: (changes.moveCoffinTime !== undefined) ? changes.moveCoffinTime : this.taskControls.moveCoffinTime.value,\n      worshipTime: (changes.worshipTime !== undefined) ? changes.worshipTime : this.taskControls.worshipTime.value,\n      remarks: (changes.remarks !== undefined) ? changes.remarks : this.taskControls.remarks.value,\n      leader: (changes.leader !== undefined) ? changes.leader : this.taskControls.leader.value,\n      isCaseClosed: (changes.isCaseClosed !== undefined) ? changes.isCaseClosed : this.taskControls.isCaseClosed.value,\n    });\n\n    this.taskForm.markAsPristine();\n  }\n\n}\n","import { IonicModule } from '@ionic/angular';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TaskFormComponent } from './../../components/task-share/task-form/task-form.component';\n\nconst components = [\n  TaskFormComponent,\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    IonicModule,\n    FormsModule,\n    ReactiveFormsModule,\n  ],\n  declarations: [...components],\n  exports: [...components],\n})\nexport class TaskShareModule { }\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { TaskDetailsPage } from './task-details.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TaskDetailsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class TaskDetailsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { TaskDetailsPageRoutingModule } from './task-details-routing.module';\nimport { TaskDetailsPage } from './task-details.page';\nimport { TaskShareModule } from './../../components/task-share/task-share.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    IonicModule,\n    TaskDetailsPageRoutingModule,\n    TaskShareModule,\n  ],\n  declarations: [TaskDetailsPage]\n})\nexport class TaskDetailsPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3Rhc2stZGV0YWlscy90YXNrLWRldGFpbHMucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\r\nimport { TaskService } from 'src/app/services/task.service';\r\nimport { Task } from 'src/app/@core/data/domain/model';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ToastController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-task-details',\r\n  templateUrl: './task-details.page.html',\r\n  styleUrls: ['./task-details.page.scss'],\r\n})\r\nexport class TaskDetailsPage implements OnInit {\r\n\r\n  task = new Task();\r\n  id = null;\r\n\r\n  constructor(\r\n    private taskService: TaskService,\r\n    private activateRoute: ActivatedRoute,\r\n    private router: Router,\r\n    private toastCtrl: ToastController,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.id = this.activateRoute.snapshot.paramMap.get('id');\r\n    if (this.id) {\r\n      this.taskService.getTask(this.id).subscribe((task) => {\r\n        this.task = task;\r\n        console.log('this.task:', this.task);\r\n      });\r\n    } else {\r\n      this.task = null;\r\n    }\r\n  }\r\n\r\n  showToast(msg) {\r\n    this.toastCtrl.create({\r\n      message: msg,\r\n      duration: 3000,\r\n    }).then(toast => toast.present());\r\n  }\r\n\r\n  onAddTask(newTask: Task) {\r\n    this.taskService.addTask(newTask).then(() => {\r\n      this.showToast('新增成功 : D');\r\n      this.router.navigateByUrl('/menu/task-list');\r\n    }, err => {\r\n      this.showToast('新增失敗 :(');\r\n    });\r\n  }\r\n\r\n  onUpdateTask(task: Task) {\r\n    this.taskService.updateTask(task).then(() => {\r\n      this.showToast('儲存成功 : D');\r\n    }, err => {\r\n      this.showToast('儲存失敗 :(');\r\n    });\r\n  }\r\n\r\n  onDeleteTask(task: Task) {\r\n    this.taskService.deleteTask(task.id).then(() => {\r\n      this.showToast('刪除成功 : D');\r\n      this.router.navigateByUrl('/menu/task-list');\r\n    }, err => {\r\n      this.showToast('刪除失敗 :(');\r\n    });\r\n  }\r\n\r\n  // load() {\r\n  //   this.http.get(\"assets/data/products.json\").subscribe((data: any) => {\r\n  //     this.products = data.products;\r\n  //   });\r\n  // }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}